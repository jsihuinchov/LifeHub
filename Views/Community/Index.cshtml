@model LifeHub.Models.ViewModels.CommunityViewModel
@{
    ViewData["Title"] = "Comunidad LifeHub";
}

<link rel="stylesheet" href="~/css/community.css" />

<div class="container mt-4">
    <div class="p-4 mb-4 rounded-4 border border-success bg-light">
        <h4 class="fw-bold text-success">COMUNIDAD LIFEHUB</h4>
        <p class="text-secondary">
            Conecta con otros usuarios, comparte tus logros y encuentra motivación en tu journey hacia una vida más balanceada.
        </p>

        <div class="row text-center mt-3">
            <div class="col-md-4">
                <h5 class="fw-bold">5,280</h5>
                <p class="text-muted">Miembros activos</p>
            </div>
            <div class="col-md-4">
                <h5 class="fw-bold">142</h5>
                <p class="text-muted">Logros compartidos hoy</p>
            </div>
            <div class="col-md-4">
                <h5 class="fw-bold">23</h5>
                <p class="text-muted">Metas grupales activas</p>
            </div>
        </div>

        <!-- Navegación -->
        <div class="text-center mt-4">
            <a asp-controller="Community" asp-action="Inicio" class="btn btn-outline-success mx-1">Inicio</a>
            <a asp-controller="Community" asp-action="Grupos" class="btn btn-outline-success mx-1">Grupos</a>
            <a asp-controller="Community" asp-action="Desafios" class="btn btn-outline-success mx-1">Desafíos</a>
            <a asp-controller="Community" asp-action="Amigos" class="btn btn-outline-success mx-1">Amigos</a>
            <a asp-controller="Community" asp-action="Eventos" class="btn btn-outline-success mx-1">Eventos</a>
        </div>
    </div>

    <div id="comunidad-content">
        @await Html.PartialAsync("_Inicio", Model)
    </div>
</div>

@section Scripts {
    <script>
        document.querySelectorAll('.btn-outline-success, .btn-success').forEach(btn => {
            btn.addEventListener('click', function (e) {
                e.preventDefault();
                const url = this.getAttribute('href');

                fetch(url)
                    .then(res => res.text())
                    .then(html => {
                        document.getElementById('comunidad-content').innerHTML = html;
                    });
            });
        });
    </script>
}
